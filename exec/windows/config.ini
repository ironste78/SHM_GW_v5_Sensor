[@discovery]
proc_name = Discovery
net = 127.0.0.255
board_port = 1110
app_port = 11234
interval = 2
log_file = discovery.log
log_level = DEBUG

[@manager]
proc_name = Manager
host = 10.0.1.99
port = 7010
pool_start = 5000
pool_size = 100
log_file = manager.log
log_level = DEBUG

[@primaryCloud]
proc_name = Uploader
enabled = True
host = 10.0.1.97
port = 4010
api_uploader_data = upload/files
api_uploader_alarm = upload/events
interval_data = 30
interval_alarm = 10
log_file = primaryCloud.log
log_level = DEBUG

[@secondaryCloud]
proc_name = Uploader
enabled = False
host = 
port = 
api_uploader_data = 
log_file = secondaryCloud.log
log_level = DEBUG

[@database]
proc_name = Database
host = localhost
port = 7001
strict_validation = no
log_file = database.log
log_level = DEBUG

[@tsdb]
proc_name = Tsdb
url = http://localhost:8086
org = WEST Aquila Srl
bucket = accelerazioni
port = 7002
token = hgxnEs0bMnl8wAeSEAm6WuasK8iejp_mYtRi3s2FV5CJGelXAX0zMHWj1_Prw8L_1aZaXJoy9WuQc5XrVtbk5Q==
api_url_base = http://localhost
log_file = tsdb.log
flush_batch_size = 10000
flush_interval = 5
worker_pool_size = 3
log_level = DEBUG

[@sensor]
proc_name = Sensor
host = 127.0.0.1
data_filtered = 0
file_duration = 120
header_only = 0
update_sensor = 1
enable_header_crc32 = 1            ; -> SENSOR_ENABLE_HEADER_CRC32
header_crc_strict = 1              ; -> SENSOR_HEADER_CRC_STRICT = 1 -> resync immediately and drop current frame if crc not valid

; --- robustezza e recovery ---
auto_restart_on_timeout = yes      ; -> SENSOR_AUTO_RESTART_ON_TIMEOUT
supervisor_enabled = yes           ; -> SENSOR_SUPERVISOR_ENABLED
board_WDT = 15                     ; -> SENSOR_BOARD_WDT (fallback SENSOR_BOARD_WDT_S)

; timeouts (se assenti, derivano da board_WDT)
accept_timeout = 20                ; -> SENSOR_ACCEPT_TIMEOUT
read_timeout = 8                   ; -> SENSOR_READ_TIMEOUT
first_packet_timeout = 8           ; -> SENSOR_FIRST_PACKET_TIMEOUT

log_file = sensor.log
log_level = DEBUG


[log]
log_dir = ./logs
log_max_bytes = 1048576
log_backup_count = 3

[globals]
data_dir = ../data
event_dir = ../events
database_dir = ../database

